<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-04-04 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ç”¨Cirqæ¨¡æ‹Ÿé‡å­éšå½¢ä¼ æ€è¿‡ç¨‹</title>
<meta name="author" content="Ping Zhou" />
<meta name="generator" content="Org Mode" />
<link rel='icon' type='image/x-icon' href='/images/favicon.ico'/>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' type='text/css' href='/css/htmlize.css'/>
<link rel='stylesheet' href='https://code.cdn.mozilla.net/fonts/fira.css'>
<link rel='stylesheet' href='/css/site.css' type='text/css'/>
<link rel='stylesheet' href='/css/custom.css' type='text/css'/>
<link rel='stylesheet' href='/css/syntax-coloring.css' type='text/css'/>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/"> UP </a>
 |
 <a accesskey="H" href="/quantum"> HOME </a>
</div><header id="top" class="status">
<div class='intro'>
  <h1>
    <span class='gray'>Ping's Quantum Computing Notes</span>
  </h1>
</div>
</header>
<main id="content" class="content">
<h1 class="title">ç”¨Cirqæ¨¡æ‹Ÿé‡å­éšå½¢ä¼ æ€è¿‡ç¨‹
<br />
<span class="subtitle">Ping Zhou, 2020-10-28</span>
</h1>
<p>
è¿™é‡Œæˆ‘ä»¬ç”¨è°·æ­Œçš„Cirqæ¡†æ¶æ¥æ¨¡æ‹Ÿé‡å­éšå½¢ä¼ æ€çš„è¿‡ç¨‹ï¼šAliceè¿™é‡Œæœ‰ä¸€ä¸ªé‡å­æ¯”ç‰¹ \(|\psi\rangle\) ï¼Œé€šè¿‡é‡å­éšå½¢ä¼ æ€ç”µè·¯ï¼ŒæŠŠçŠ¶æ€ä¼ é€åˆ°Bobé‚£é‡Œã€‚
</p>

<p>
å…³äºé‡å­éšå½¢ä¼ æ€çš„åŸç†ï¼Œè¯·å‚è§<a href="https://mp.weixin.qq.com/s?__biz=MzI4ODYxNDY5NA==&amp;mid=2247484394&amp;idx=1&amp;sn=e167ed2e9427fe35ed5a0bc320b19a45&amp;chksm=ec3af3a3db4d7ab5281f3d17ce86cd56e9043316667c9f51d23643cbd444b02535f2faf26cc1&amp;scene=178&amp;cur_album_id=1504407355969617921#rd">æˆ‘çš„ç›¸å…³æ–‡ç« </a>ã€‚
</p>

<section id="outline-container-org1ae4dd1" class="outline-2">
<h2 id="org1ae4dd1">åˆ¶å¤‡çº ç¼ æ€çš„é‡å­æ¯”ç‰¹</h2>
<div class="outline-text-2" id="text-org1ae4dd1">
<p>
è¦åœ¨Aliceå’ŒBobä¹‹é—´å®ç°é‡å­éšå½¢ä¼ æ€ï¼Œé¦–å…ˆéœ€è¦ç”¨åˆ°ä¸€å¯¹çº ç¼ æ€çš„é‡å­æ¯”ç‰¹ã€‚è¿™å¯ä»¥é€šè¿‡ä¸€ä¸ªHé—¨å’Œä¸€ä¸ªCNOTé—¨æ¥å®ç°ï¼š
</p>


<div id="orga9da2d4" class="figure">
<p><img src="../images/Entanglement.svg" alt="Entanglement.svg" class="org-svg" width="320px" />
</p>
</div>

<p>
ä¸ºç®€åŒ–åé¢çš„é‡å­ç”µè·¯ï¼Œå¯ä»¥æŠŠè¿™é‡Œçš„Hé—¨å’ŒCNOTé—¨åŒ…è£…æˆä¸€ä¸ªè‡ªå®šä¹‰çš„å¤åˆé—¨ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿ä»¥åé‡ç”¨ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªè‡ªå®šä¹‰é—¨èµ·åå«â€œçº ç¼ é—¨â€ï¼ˆEntangleGateï¼‰ã€‚
</p>


<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">import</span> cirq
<span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np

<span class="org-comment-delimiter"># </span><span class="org-comment">&#21019;&#24314;&#19968;&#20010;&#33258;&#23450;&#20041;&#38376; - &#8220;&#32416;&#32544;&#38376;&#8221;&#65292;&#36755;&#20837;2&#20010;&#37327;&#23376;&#27604;&#29305;</span>
<span class="org-keyword">class</span> <span class="org-type">EntangleGate</span>(cirq.ops.gate_features.TwoQubitGate):
    <span class="org-comment-delimiter"># </span><span class="org-comment">&#20869;&#37096;&#23601;&#26159;&#19968;&#20010;H&#38376;&#21644;&#19968;&#20010;CNOT&#38376;</span>
    <span class="org-keyword">def</span> <span class="org-function-name">_decompose_</span>(<span class="org-keyword">self</span>, qubits):
        <span class="org-variable-name">q0</span>, <span class="org-variable-name">q1</span> = qubits
        <span class="org-keyword">yield</span> cirq.H(q0),
        <span class="org-keyword">yield</span> cirq.CNOT(q0, q1)

    <span class="org-comment-delimiter"># </span><span class="org-comment">&#25171;&#21360;&#30340;&#26102;&#20505;&#22914;&#20309;&#26174;&#31034;&#36825;&#20010;&#38376;&#65311;</span>
    <span class="org-keyword">def</span> <span class="org-function-name">_circuit_diagram_info_</span>(<span class="org-keyword">self</span>, args):
        <span class="org-keyword">return</span> cirq.protocols.CircuitDiagramInfo(wire_symbols=(<span class="org-string">'E'</span>, <span class="org-string">'E'</span>))
</pre>
</div>

<p>
è¯•éªŒä¸€ä¸‹è¿™ä¸ªè‡ªå®šä¹‰é—¨ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">&#120601;0</span> = cirq.NamedQubit(<span class="org-string">"&#120601;0"</span>)
<span class="org-variable-name">&#120601;1</span> = cirq.NamedQubit(<span class="org-string">"&#120601;1"</span>)

<span class="org-variable-name">circuit</span> = cirq.Circuit(EntangleGate().on(&#120601;0, &#120601;1))
<span class="org-builtin">print</span>(circuit)
</pre>
</div>

<pre class="example" id="org8e670e4">
ğœ™0: â”€â”€â”€Eâ”€â”€â”€
       â”‚
ğœ™1: â”€â”€â”€Eâ”€â”€â”€
</pre>

<p>
ç»è¿‡è¿™ä¸ªâ€œçº ç¼ é—¨â€ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€å¯¹çº ç¼ æ€çš„é‡å­æ¯”ç‰¹ \(|\phi_0\rangle\) å’Œ \(|\phi_1\rangle\) ã€‚
</p>
</div>
</section>

<section id="outline-container-orge5a3a67" class="outline-2">
<h2 id="orge5a3a67">é‡å­éšå½¢ä¼ æ€</h2>
<div class="outline-text-2" id="text-orge5a3a67">
<p>
å®Œæ•´çš„é‡å­éšå½¢ä¼ æ€çš„ç”µè·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
</p>


<div id="org5154df5" class="figure">
<p><img src="../images/Quantum Teleportation.svg" alt="Quantum Teleportation.svg" class="org-svg" width="600px" />
</p>
</div>
</div>
</section>

<section id="outline-container-orgead929a" class="outline-2">
<h2 id="orgead929a">Aliceè¿™è¾¹çš„ç”µè·¯</h2>
<div class="outline-text-2" id="text-orgead929a">
<p>
Aliceè¿™è¾¹ï¼Œé™¤äº†ä¸€å¯¹çº ç¼ æ€é‡å­æ¯”ç‰¹ \(|\phi_0\rangle\), \(|\phi_1\rangle\) å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªè¦ä¼ é€çš„é‡å­æ¯”ç‰¹ \(|\psi\rangle\) ã€‚é‡å­éšå½¢ä¼ æ€çš„ç›®çš„ï¼Œå°±æ˜¯åœ¨Bobé‚£é‡Œå¾—åˆ°ä¸€ä¸ªä¸ \(|\psi\rangle\) çŠ¶æ€ç›¸åŒçš„é‡å­æ¯”ç‰¹ã€‚
</p>

<p>
Aliceè¿™è¾¹è¦åšçš„äº‹ï¼š
</p>
<ul class="org-ul">
<li>å‡†å¤‡è¦ä¼ é€çš„é‡å­æ¯”ç‰¹</li>
<li>å‡†å¤‡çº ç¼ æ€çš„é‡å­æ¯”ç‰¹å¯¹ï¼Œä¸€ä¸ªç»™Bobï¼Œä¸€ä¸ªç•™ç»™è‡ªå·±</li>
<li>è¿è¡Œç”µè·¯ï¼Œç„¶åæŠŠæµ‹é‡ç»“æœï¼ˆm1, m2ï¼‰å‘Šè¯‰Bob</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">&#35201;&#20256;&#36865;&#30340;&#37327;&#23376;&#27604;&#29305;</span>
<span class="org-variable-name">&#120595;</span> = cirq.NamedQubit(<span class="org-string">"&#120595;"</span>)
<span class="org-comment-delimiter"># </span><span class="org-comment">&#32416;&#32544;&#24577;&#30340;&#37327;&#23376;&#27604;&#29305;&#23545;</span>
<span class="org-variable-name">&#120601;0</span> = cirq.NamedQubit(<span class="org-string">"&#120601;0"</span>)
<span class="org-variable-name">&#120601;1</span> = cirq.NamedQubit(<span class="org-string">"&#120601;1"</span>)
</pre>
</div>

<p>
Cirqé‡Œé¢é‡å­æ¯”ç‰¹åˆå§‹çŠ¶æ€éƒ½æ˜¯ \(|0\rangle\) ï¼Œæ‰€ä»¥Aliceè¿™è¾¹ \(|\psi\rangle\) åˆå§‹çŠ¶æ€ä¹Ÿæ˜¯\(|0\rangle\)ã€‚
ä¸ºäº†éªŒè¯éšå½¢ä¼ æ€çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ \(|\psi\rangle\) åšä¸€äº›å˜æ¢ï¼Œè®©å®ƒå˜æˆé \(|0\rangle\) ï¼Œç„¶ååˆ°Bobé‚£è¾¹å»éªŒè¯æ”¶åˆ°çš„çŠ¶æ€ã€‚
</p>

<p>
è¿™é‡Œå®šä¹‰ä¸€ä¸ªå‡½æ•° <code>prepare_psi</code> æ¥å¯¹ \(|\psi\rangle\) åšå˜æ¢ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">&#23545;|&#120595;&#10217;&#36827;&#34892;&#20219;&#24847;&#35282;&#24230;&#30340;RX&#21464;&#25442;</span>
<span class="org-keyword">def</span> <span class="org-function-name">prepare_psi</span>(rx):
    <span class="org-keyword">return</span> cirq.Circuit(cirq.rx(rx).on(&#120595;))

<span class="org-comment-delimiter"># </span><span class="org-comment">&#35201;&#20256;&#36865;&#30340;&#37327;&#23376;&#27604;&#29305;|&#120595;&#10217;&#65306;|0&#10217;&#32469;X&#36724;&#26059;&#36716; &#960;/2</span>
<span class="org-variable-name">circuit</span> = prepare_psi(rx=np.pi/2)

<span class="org-comment-delimiter"># </span><span class="org-comment">&#39318;&#20808;&#36305;&#19968;&#19979;&#36825;&#20010;&#20934;&#22791;&#30005;&#36335;&#65292;&#25226;|&#120595;&#10217;&#30340;&#29366;&#24577;&#35760;&#19979;&#26469;&#65292;&#20197;&#22791;&#21518;&#38754;&#39564;&#35777;</span>
result = cirq.Simulator().simulate(circuit)

<span class="org-builtin">print</span>(np.<span class="org-builtin">round</span>(result.final_state,3))

<span class="org-comment-delimiter"># </span><span class="org-comment">&#25226;|&#120595;&#10217;&#36825;&#26102;&#30340;&#29366;&#24577;&#35760;&#19979;&#26469;&#65292;&#20197;&#22791;&#21518;&#38754;&#39564;&#35777;</span>
psi_state = result.final_state
</pre>
</div>

<pre class="example" id="org3d8ec0a">
[0.707+0.j    0.   -0.707j]
</pre>


<p>
æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ­å»ºAliceè¿™è¾¹çš„ç”µè·¯ã€‚
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">from</span> cirq.contrib.svg <span class="org-keyword">import</span> SVGCircuit

<span class="org-comment-delimiter"># </span><span class="org-comment">&#20934;&#22791;&#32416;&#32544;&#24577;&#30340;&#37327;&#23376;&#27604;&#29305;&#23545;|&#120601;0&#10217;, |&#120601;1&#10217;</span>
circuit.append(EntangleGate().on(&#120601;0, &#120601;1))

<span class="org-comment-delimiter"># </span><span class="org-comment">CNOT&#38376;&#65306;|&#120595;&#10217;-|&#120601;0&#10217;&#65292;&#28982;&#21518;|&#120595;&#10217;&#19978;&#21152;H&#38376;</span>
circuit.append([cirq.CNOT(&#120595;, &#120601;0), cirq.H(&#120595;)],
               strategy=cirq.InsertStrategy.NEW_THEN_INLINE)

<span class="org-comment-delimiter"># </span><span class="org-comment">&#23545;|&#120595;&#10217;&#65292;|&#120601;0&#10217;&#36827;&#34892;&#27979;&#37327;</span>
circuit.append([cirq.measure(&#120601;0), cirq.measure(&#120595;)],
               strategy=cirq.InsertStrategy.NEW_THEN_INLINE) 

SVGCircuit(circuit)
<span class="org-comment-delimiter"># </span><span class="org-comment">print(circuit)</span>
</pre>
</div>


<div id="org979b0fd" class="figure">
<p><img src="../images/quantum_teleportation_output_11_0.svg" alt="quantum_teleportation_output_11_0.svg" class="org-svg" />
</p>
</div>

<p>
Aliceè¿è¡Œè¿™ä¸ªç”µè·¯ï¼Œå¾—åˆ° \(|\psi\phi_0\rangle\) çš„æµ‹é‡å€¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">result_alice</span> = cirq.Simulator().simulate(circuit, qubit_order=[&#120595;, &#120601;0, &#120601;1])
m_psi = <span class="org-builtin">int</span>(result_alice.measurements[<span class="org-string">'&#120595;'</span>][0])
m_phi0 = <span class="org-builtin">int</span>(result_alice.measurements[<span class="org-string">'&#120601;0'</span>][0])
<span class="org-builtin">print</span>(<span class="org-string">"Alice: Measure(&#120595;) = {}, Measure(&#120601;0) = {}"</span>.<span class="org-builtin">format</span>(m_psi, m_phi0))
</pre>
</div>

<pre class="example" id="org5c6ec8d">
Alice: Measure(ğœ“) = 0, Measure(ğœ™0) = 0
</pre>
</div>
</section>

<section id="outline-container-orgca73b46" class="outline-2">
<h2 id="orgca73b46">Bobè¿™è¾¹çš„ç”µè·¯</h2>
<div class="outline-text-2" id="text-orgca73b46">
<p>
å‡è®¾è¦ä¼ é€çš„é‡å­æ¯”ç‰¹çŠ¶æ€æ˜¯ \(|\psi\rangle=(\alpha|0\rangle+\beta|1\rangle)\) ã€‚
AliceæŠŠå‰é¢æµ‹é‡å¾—åˆ°çš„ç»“æœå‘Šè¯‰Bobï¼Œç„¶åBobæ ¹æ®å¾—åˆ°çš„ä¿¡æ¯ï¼Œå¯¹æ‰‹é‡Œçš„ \(|\phi_1\rangle\) è¿›è¡Œç›¸åº”çš„å˜æ¢ï¼Œä»è€ŒæŠŠå®ƒçš„çŠ¶æ€å˜æˆå’Œ \(|\psi\rangle\) ä¸€æ ·ï¼š
</p>
<ul class="org-ul">
<li>å¦‚æœAliceæµ‹é‡ \(|\psi\phi_0\rangle\) å¾—åˆ°00ï¼Œä»€ä¹ˆä¹Ÿä¸ç”¨åšï¼Œ \(|\phi_1\rangle\) çŠ¶æ€å·²ç»æ˜¯ \((\alpha|0\rangle+\beta|1\rangle)\) ã€‚</li>
<li>å¦‚æœAliceæµ‹é‡ \(|\psi\phi_0\rangle\) å¾—åˆ°01ï¼Œé‚£ä¹ˆ \(|\phi_1\rangle=(\beta|0\rangle+\alpha|1\rangle)\) ï¼Œå¯¹å®ƒåšä¸€ä¸ªXå˜æ¢å°±å¯ä»¥å˜æˆ \((\alpha|0\rangle+\beta|1\rangle)\) ã€‚</li>
<li>å¦‚æœAliceæµ‹é‡ \(|\psi\phi_0\rangle\) å¾—åˆ°10ï¼Œé‚£ä¹ˆ \(|\phi_1\rangle=(\alpha|0\rangle-\beta|1\rangle)\) ï¼Œå¯¹å®ƒåšä¸€ä¸ªZå˜æ¢å°±å¯ä»¥å˜æˆ \((\alpha|0\rangle+\beta|1\rangle)\) ã€‚</li>
<li>å¦‚æœAliceæµ‹é‡ \(|\psi\phi_0\rangle\) å¾—åˆ°11ï¼Œé‚£ä¹ˆ \(|\phi_1\rangle=(\alpha|1\rangle-\beta|0\rangle)\) ï¼Œå¯¹å®ƒåšä¸€ä¸ªXå˜æ¢å†åŠ ä¸€ä¸ªZå˜æ¢ï¼Œå°±å¯ä»¥å˜æˆ \((\alpha|0\rangle+\beta|1\rangle)\) ã€‚</li>
</ul>

<p>
æ€ä¹ˆæ¥æ¨¡æ‹ŸBobè¿™è¾¹çš„è¿‡ç¨‹å‘¢ï¼Ÿ
</p>

<p>
Bobè¿™é‡Œæœ‰ä¸€ä¸ªé‡å­æ¯”ç‰¹ \(|\phi_1\rangle\) ï¼Œå½“Bobå¾—åˆ°Aliceå‘æ¥çš„æµ‹é‡ç»“æœåï¼Œ \(|\phi_1\rangle\) çš„çŠ¶æ€å¿…ç„¶æ˜¯ä¸Šè¿°4ç§çŠ¶æ€ä¹‹ä¸€ã€‚Bobè¦æ ¹æ®Aliceå‘æ¥çš„ä¿¡æ¯ï¼Œå†³å®šåœ¨ \(|\phi_1\rangle\) åé¢åŠ ä¸Šä»€ä¹ˆé—¨ã€‚
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">&#26681;&#25454;Alice&#27979;&#37327;|&#120595;&#120601;0&#10217; &#30340;&#32467;&#26524;&#65292;&#36820;&#22238;&#35201;&#23545;&#120601;1&#36827;&#34892;&#30340;&#21464;&#25442;</span>
<span class="org-keyword">def</span> <span class="org-function-name">generate_bob_circuit</span>(m_psi, m_phi0):
    <span class="org-keyword">if</span> m_psi == 0 <span class="org-keyword">and</span> m_phi0 == 0:
        <span class="org-comment-delimiter"># </span><span class="org-comment">&#27979;&#37327; |&#120595;&#120601;0&#10217; &#24471;&#21040;00&#65292;&#20160;&#20040;&#20063;&#19981;&#29992;&#20570;</span>
        <span class="org-keyword">return</span> cirq.Circuit()
    <span class="org-keyword">elif</span> m_psi == 0 <span class="org-keyword">and</span> m_phi0 == 1:
        <span class="org-comment-delimiter"># </span><span class="org-comment">&#27979;&#37327; |&#120595;&#120601;0&#10217; &#24471;&#21040;01&#65292;&#23545;|&#120601;1&#10217;&#20570;&#19968;&#20010;X&#21464;&#25442;</span>
        <span class="org-keyword">return</span> cirq.Circuit(cirq.X(&#120601;1))
    <span class="org-keyword">elif</span> m_psi == 1 <span class="org-keyword">and</span> m_phi0 == 0:
        <span class="org-comment-delimiter"># </span><span class="org-comment">&#27979;&#37327; |&#120595;&#120601;0&#10217; &#24471;&#21040;10&#65292;&#23545;|&#120601;1&#10217;&#20570;&#19968;&#20010;Z&#21464;&#25442;</span>
        <span class="org-keyword">return</span> cirq.Circuit(cirq.Z(&#120601;1))
    <span class="org-keyword">elif</span> m_psi == 1 <span class="org-keyword">and</span> m_phi0 == 1:
        <span class="org-comment-delimiter"># </span><span class="org-comment">&#27979;&#37327; |&#120595;&#120601;0&#10217; &#24471;&#21040;11&#65292;&#23545;|&#120601;1&#10217;&#20570;&#19968;&#20010;X&#21464;&#25442;&#20877;&#21152;Z&#21464;&#25442;</span>
        <span class="org-keyword">return</span> cirq.Circuit(cirq.X(&#120601;1), cirq.Z(&#120601;1))

circuit_bob = generate_bob_circuit(m_psi, m_phi0)
<span class="org-builtin">print</span>(<span class="org-string">"Alice: Measure(&#120595;) = {}, Measure(&#120601;0) = {}"</span>.<span class="org-builtin">format</span>(m_psi, m_phi0))
</pre>
</div>

<pre class="example" id="org52229c7">
Alice: Measure(ğœ“) = 0, Measure(ğœ™0) = 0
</pre>

<p>
ç„¶åæˆ‘ä»¬è¦è·‘Bobçš„ç”µè·¯ï¼Œä½†è¿™é‡Œåˆæœ‰ä¸ªé—®é¢˜ï¼š
</p>

<p>
æ¯æ¬¡ç”¨Simulatorè·‘ç”µè·¯ï¼Œéƒ½ä¼šé‡æ–°åˆå§‹åŒ–å…¶ä¸­çš„é‡å­æ¯”ç‰¹ï¼Œæ‰€ä»¥Bobè¿™é‡Œçš„ \(|\phi_1\rangle\) ä¼šè¢«é‡æ–°åˆå§‹åŒ–ï¼
</p>

<p>
æ‰€ä»¥è¦æ¨¡æ‹ŸBobçš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦æŠŠBobè¿™è¾¹çš„ç”µè·¯ï¼ˆå³ \(|\phi_1\rangle\) ï¼‰**åˆå§‹åŒ–**æˆAliceé‚£è¾¹è¿è¡Œåçš„çŠ¶æ€ã€‚è¿™å°±ç›¸å½“äºæŠŠä¸¤è¾¹çš„æ¨¡æ‹Ÿè¿‡ç¨‹æ¥èµ·æ¥äº†ï¼
</p>

<p>
æ‰€ä»¥æˆ‘ä»¬è¦åšçš„æ˜¯ï¼š
</p>
<ul class="org-ul">
<li>åœ¨Aliceè¿è¡Œç”µè·¯åï¼Œè®°ä¸‹è¿è¡Œåçš„çŠ¶æ€ï¼Œè¿™ä¸ªåœ¨å‰é¢çš„ä»£ç é‡Œï¼Œå·²ç»è®°åœ¨ <code>result_alice</code> é‡Œäº†ï¼›</li>
<li>ç”¨Aliceè¿™è¾¹çš„ \(|\phi_1\rangle\) çŠ¶æ€å‘é‡ï¼Œæ¥åˆå§‹åŒ–Bobè¿™è¾¹çš„ç”µè·¯ã€‚</li>
</ul>
</div>

<div id="outline-container-org13423c5" class="outline-3">
<h3 id="org13423c5">å…³äºCirqé‡Œçš„çŠ¶æ€å‘é‡</h3>
<div class="outline-text-3" id="text-org13423c5">
<p>
å…³äºçŠ¶æ€å‘é‡ï¼Œè¿™é‡Œå¤šè§£é‡Šå‡ å¥ã€‚ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸ªç³»ç»Ÿï¼Œå…¶ä¸­æœ‰3ä¸ªé‡å­æ¯”ç‰¹ï¼Œåˆ†åˆ«è¡¨ç¤ºæˆ
</p>

\begin{matrix}
\alpha_0|0\rangle + \beta_0|1\rangle, \\
\alpha_1|0\rangle + \beta_1|1\rangle, \\
\alpha_2|0\rangle + \beta_2|1\rangle,
\end{matrix}

<p>
é‚£ä¹ˆè¿™ä¸ªç³»ç»Ÿçš„çŠ¶æ€å‘é‡å°±æ˜¯è¿™3ä¸ªé‡å­æ¯”ç‰¹çš„å‘é‡çš„å¼ é‡ç§¯(Tensor Product/Kronecker Product)ï¼š
</p>

\begin{matrix}
\begin{pmatrix}
\alpha_0 \\
\beta_0
\end{pmatrix}
\otimes
\begin{pmatrix}
\alpha_1 \\
\beta_1
\end{pmatrix}
\otimes
\begin{pmatrix}
\alpha_2 \\
\beta_2
\end{pmatrix}
=
begin{pmatrix}
\alpha_0\alpha_1\alpha_2 \\
\alpha_0\alpha_1\beta_2 \\
\alpha_0\beta_1\alpha_2 \\
\alpha_0\beta_1\beta_2 \\
\beta_0\alpha_1\alpha_2 \\
\beta_0\alpha_1\beta_2 \\
\beta_0\beta_1\alpha_2 \\
\beta_0\beta_1\beta_2
\end{pmatrix}
\end{matrix}

<p>
ä¸Šé¢çš„çŸ©é˜µè¿˜å‘Šè¯‰æˆ‘ä»¬ï¼Œå¦‚æœç”¨è®¡ç®—åŸºçŸ¢(Computational Basis)æ¥è¡¨ç¤ºçš„è¯ï¼Œç³»ç»Ÿçš„å½“å‰çŠ¶æ€æ˜¯ \(|000\rangle, |001\rangle, \cdots, |111\rangle\) ç­‰è®¡ç®—åŸºçŸ¢çš„å åŠ æ€ï¼š
</p>

\begin{matrix}
\alpha_0\alpha_1\alpha_2 |000\rangle +\\
\alpha_0\alpha_1\beta_2 |001\rangle +\\
\alpha_0\beta_1\alpha_2 |010\rangle +\\
\alpha_0\beta_1\beta_2 |011\rangle +\\
\beta_0\alpha_1\alpha_2 |100\rangle +\\
\beta_0\alpha_1\beta_2 |101\rangle +\\
\beta_0\beta_1\alpha_2 |110\rangle +\\
\beta_0\beta_1\beta_2 |111\rangle
\end{matrix}

<p>
åœ¨Cirqé‡Œé¢ï¼Œç³»ç»Ÿçš„çŠ¶æ€å‘é‡å°±æ˜¯ç”¨è¿™æ ·ä¸€ç»„å¤æ•°æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”æŒ‰ç…§ä¸Šé¢çš„Kroneckeré¡ºåºæ’åˆ—ã€‚æˆ‘ä»¬è¿è¡Œæ¨¡æ‹Ÿå™¨ï¼Œè¿”å›å¾—åˆ°çš„ <code>results</code> é‡Œæœ‰ä¸€ä¸ª <code>final_state</code> æˆå‘˜ï¼Œå°±æ˜¯å½“å‰ç³»ç»Ÿçš„çŠ¶æ€å‘é‡ã€‚ä¾‹å¦‚å‰é¢æˆ‘ä»¬çœ‹åˆ°ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">result_alice</span> = cirq.Simulator().simulate(circuit, qubit_order=[&#120595;, &#120601;0, &#120601;1])
</pre>
</div>

<p>
å¦‚æœæˆ‘ä»¬æŸ¥çœ‹ <code>result_alice.final_state</code> ï¼Œé‡Œé¢å°±æœ‰ç³»ç»Ÿçš„çŠ¶æ€å‘é‡ï¼ŒåŒ…å«äº†8ä¸ªå¤æ•°ã€‚
</p>

<p>
å‰é¢æˆ‘ä»¬è¯´åˆ°ï¼ŒAliceçš„ç”µè·¯æœ‰ä¸‰ä¸ªé‡å­æ¯”ç‰¹ï¼Œå·²ç»æµ‹é‡äº†å‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹ï¼Œç°åœ¨è¦çš„æ˜¯ç¬¬ä¸‰ä¸ªçš„çŠ¶æ€å‘é‡ã€‚
</p>

<p>
å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚æœå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹çš„æµ‹é‡ç»“æœæ˜¯00ï¼Œå¯¹ä¸Šé¢çš„å¼å­æ„å‘³ç€ä»€ä¹ˆï¼Ÿ
</p>
<ul class="org-ul">
<li>ç¬¬ä¸€ä¸ªé‡å­æ¯”ç‰¹æµ‹é‡åæ˜¯ \(|0\rangle\) ï¼Œä¹Ÿå°±æ˜¯è¯´ \(\alpha_0=1, \beta_0=0\) .</li>
<li>åŒç†ï¼Œç¬¬äºŒä¸ªé‡å­æ¯”ç‰¹æµ‹é‡åä¹Ÿæ˜¯ \(|0\rangle\) ï¼Œä¹Ÿå°±æ˜¯è¯´ \(\alpha_1=1, \beta_1=0\) .</li>
</ul>
<p>
æ”¾åˆ°ä¸Šé¢çš„å¼å­é‡Œï¼Œæ•´ä¸ªç³»ç»Ÿçš„çŠ¶æ€å°±å˜æˆäº†
</p>

\begin{matrix}
\alpha_0\alpha_1\alpha_2 |000\rangle +
\alpha_0\alpha_1\beta_2 |001\rangle = \\
\alpha_2 |000\rangle + \beta_2 |001\rangle
\end{matrix}

<p>
å› ä¸º \(\beta_0=0, \beta_1=0\) ï¼Œå…¶ä»–é¡¹éƒ½å˜æˆ0æ¶ˆæ‰äº†ã€‚
</p>

<p>
æ‰€ä»¥ï¼Œå¦‚æœå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹æµ‹é‡ç»“æœæ˜¯00ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªé‡å­æ¯”ç‰¹çš„çŠ¶æ€å°±æ˜¯å‰é¢8ä¸ªå åŠ é¡¹çš„ç¬¬ä¸€å’Œç¬¬äºŒé¡¹ï¼Œæˆ‘ä»¬åªè¦çœ‹ <code>result_alice.final_state</code> çš„ç¬¬ä¸€å’Œç¬¬äºŒé¡¹ï¼Œå°±èƒ½å¾—åˆ° \(|\phi_1\rangle\) çš„çŠ¶æ€ï¼š
<code>result_alice.final_state[0:2]</code>
</p>

<p>
åŒç†ï¼š
</p>
<ul class="org-ul">
<li>å¦‚æœå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹æµ‹é‡ç»“æœæ˜¯01ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªé‡å­æ¯”ç‰¹ \(\phi_1\) çš„çŠ¶æ€å°±åœ¨ <code>result_alice.final_state[2:4]</code> é‡Œï¼›</li>
<li>å¦‚æœå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹æµ‹é‡ç»“æœæ˜¯10ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªé‡å­æ¯”ç‰¹ \(\phi_1\) çš„çŠ¶æ€å°±åœ¨ <code>result_alice.final_state[4:6]</code> é‡Œï¼›</li>
<li>å¦‚æœå‰ä¸¤ä¸ªé‡å­æ¯”ç‰¹æµ‹é‡ç»“æœæ˜¯11ï¼Œé‚£ä¹ˆç¬¬ä¸‰ä¸ªé‡å­æ¯”ç‰¹ \(\phi_1\) çš„çŠ¶æ€å°±åœ¨ <code>result_alice.final_state[6:8]</code> é‡Œï¼›</li>
</ul>

<p>
å¦å¤–è¿˜è¦æ³¨æ„çš„æ˜¯ï¼ŒçœŸå®çš„é‡å­è®¡ç®—æœºé‡Œä¸€èˆ¬æ˜¯ä¸èƒ½è·å–ç³»ç»Ÿçš„çŠ¶æ€å‘é‡çš„ï¼Œè¿™ç§æ–¹æ³•åªé€‚ç”¨äºæ¨¡æ‹Ÿå™¨ç¯å¢ƒã€‚
</p>

<p>
åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çŸ¥é“å¦‚ä½•æ ¹æ®Aliceçš„æµ‹é‡ç»“æœï¼Œå¾—åˆ° \(|\phi_1\rangle\) çš„çŠ¶æ€å‘é‡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ç”¨è¿™ä¸ªçŠ¶æ€å‘é‡ï¼Œæ¥åˆå§‹åŒ–Bobè¿™è¾¹çš„ç”µè·¯ï¼Œè¿™æ ·å°±æŠŠä¸¤è¾¹ç”µè·¯çš„çŠ¶æ€æ¥èµ·æ¥äº†ã€‚
</p>

<p>
å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ®Aliceçš„æµ‹é‡ç»“æœï¼Œè¿”å› \(|\phi_1\rangle\) çš„çŠ¶æ€å‘é‡ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-comment-delimiter"># </span><span class="org-comment">&#26681;&#25454;Alice&#30340;&#27979;&#37327;&#32467;&#26524;&#65292;&#36820;&#22238;|&#120601;1&#10217;&#30340;&#29366;&#24577;&#21521;&#37327;&#65292;&#29992;&#26469;&#21021;&#22987;&#21270;Bob&#30340;&#30005;&#36335;</span>
<span class="org-keyword">def</span> <span class="org-function-name">bob_phi_1_state</span>(m_psi, m_phi0, result_alice):
    <span class="org-keyword">if</span> m_psi == 0 <span class="org-keyword">and</span> m_phi0 == 0:
        <span class="org-keyword">return</span> result_alice.final_state[0:2]
    <span class="org-keyword">elif</span> m_psi == 0 <span class="org-keyword">and</span> m_phi0 == 1:
        <span class="org-keyword">return</span> result_alice.final_state[2:4]
    <span class="org-keyword">elif</span> m_psi == 1 <span class="org-keyword">and</span> m_phi0 == 0:
        <span class="org-keyword">return</span> result_alice.final_state[4:6]
    <span class="org-keyword">elif</span> m_psi == 1 <span class="org-keyword">and</span> m_phi0 == 1:
        <span class="org-keyword">return</span> result_alice.final_state[6:8]

bob_initial_state = bob_phi_1_state(m_psi, m_phi0, result_alice)
</pre>
</div>

<p>
ç„¶åBobè¿è¡Œç”µè·¯çš„æ—¶å€™ï¼Œç”¨è¿™ä¸ªçŠ¶æ€å‘é‡æ¥åˆå§‹åŒ– \(|\phi_1\rangle\) ã€‚åœ¨è°ƒç”¨ <code>Simulator</code> çš„æ—¶å€™ï¼Œä¼ å…¥ <code>initial_state</code> å‚æ•°ï¼š
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-variable-name">result_bob</span> = cirq.Simulator().simulate(circuit_bob,
                                       qubit_order=[&#120601;1],
                                       initial_state=bob_initial_state)

<span class="org-builtin">print</span>(<span class="org-string">"Bob     |&#120601;1&#10217;:"</span>, np.<span class="org-builtin">round</span>(result_bob.final_state, 3))
<span class="org-builtin">print</span>(<span class="org-string">"Alice   |&#120595;&#10217;: "</span>, np.<span class="org-builtin">round</span>(psi_state, 3))
</pre>
</div>

<pre class="example" id="orgdd82631">
Bob     |ğœ™1âŸ©: [0.707+0.j    0.   -0.707j]
Alice   |ğœ“âŸ©:  [0.707+0.j    0.   -0.707j]
</pre>

<p>
å¤šè¯•å‡ æ¬¡ï¼Œä½ ä¼šå‘ç°ç»“æœéƒ½æ˜¯ä¸€è‡´çš„ã€‚å› æ­¤ï¼ŒBobé‚£è¾¹å¾—åˆ°äº†å’ŒåŸå…ˆ \(|\psi\rangle\) çŠ¶æ€ä¸€æ ·çš„é‡å­æ¯”ç‰¹ï¼
</p>

<p>
å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œé‡å­ä¿¡æ¯æœ‰ <b>ä¸å¯å¤åˆ¶æ€§</b> ã€‚åœ¨è¿™ä¸ªæ—¶å€™åŸå…ˆçš„ \(|\psi\rangle\) å·²ç»è¢«æµ‹é‡åç¼©äº†ï¼ˆè®°å¾—æˆ‘ä»¬åœ¨Aliceé‚£è¾¹åšçš„æµ‹é‡å—ï¼Ÿï¼‰ï¼Œæ‰€ä»¥å¹¶ä¸å­˜åœ¨2ä¸ª \(|\psi\rangle\) å‰¯æœ¬çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¹‹æ‰€ä»¥èƒ½åœ¨è¿™é‡Œæ‰“å°å‡ºå®ƒçš„çŠ¶æ€ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åˆ©ç”¨æ¨¡æ‹Ÿå™¨çš„ç‰¹æ€§ï¼Œåœ¨åˆ¶å¤‡çš„æ—¶å€™æŠŠå®ƒçš„çŠ¶æ€å‘é‡è®°ä¸‹æ¥ï¼Œæ”¾åˆ°è¿™é‡ŒåšéªŒè¯ç”¨ã€‚
</p>
</div>
</div>
</section>

<section id="outline-container-org981111a" class="outline-2">
<h2 id="org981111a">å¤‡æ³¨ï¼šTensor Product</h2>
<div class="outline-text-2" id="text-org981111a">
\begin{matrix}
A \otimes B =
\begin{bmatrix}
a_{11}B & \cdots & a_{1n}B \\
\vdots & \ddots & \vdots \\
a_{1m}B & \cdots & a_{mn}B \\
\end{bmatrix}
\end{matrix}
</div>
</section>
</main>
<footer id="postamble" class="status">
<div class='footer'>
    Style inspired by <a href='https://nicolas.petton.fr'>https://nicolas.petton.fr</a> <br>
    Generated using <a href="https://www.gnu.org/software/emacs/">Emacs</a> 28.1 (<a href="https://orgmode.org">Org</a> mode 9.4.6).
    </div>
</footer>
</body>
</html>
